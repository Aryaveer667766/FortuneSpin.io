<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>God Mode HQ â€“ FortuneSpin</title>
  <link rel="stylesheet" href="style/admin.css" />
  <script type="module" src="js/admin.js"></script>
  <script type="module" src="firebase.js"></script>
</head>
<body class="cyberpunk-bg">
  <audio id="system-sound" src="assets/sounds/system-beep.mp3"></audio>

  <header>
    <h1>ğŸ›°ï¸ GOD MODE HQ</h1>
    <button onclick="logout()">Logout</button>
  </header>

  <main>
    <section class="dashboard-grid">

      <!-- USERS -->
      <div class="card">
        <h2>ğŸ‘¤ User Management</h2>
        <input type="text" id="searchUID" placeholder="Enter UID" />
        <button onclick="viewUser()">View User</button>
        <button onclick="deleteUser()">Delete</button>
        <input type="password" id="newPass" placeholder="New Password" />
        <button onclick="changePassword()">Change Password</button>
        <pre id="userInfo">User info will appear here</pre>
      </div>

      <!-- BALANCE -->
      <div class="card">
        <h2>ğŸ’° Balance Control</h2>
        <input type="text" id="uid-balance" placeholder="User UID" />
        <input type="number" id="newBalance" placeholder="New Balance" />
        <button onclick="updateBalance()">Update Balance</button>
      </div>

      <!-- WITHDRAWALS -->
      <div class="card">
        <h2>ğŸ¦ Withdrawals</h2>
        <button onclick="loadWithdrawals()">Load Requests</button>
        <div id="withdrawalsList">No requests yet</div>
      </div>

      <!-- NOTIFICATIONS -->
      <div class="card">
        <h2>ğŸ“¢ Notify Users</h2>
        <input type="text" id="notifyUID" placeholder="UID (or ALL)" />
        <input type="text" id="notifyMsg" placeholder="Message" />
        <button onclick="sendNotification()">Send</button>
      </div>

      <!-- REFERRALS -->
      <div class="card">
        <h2>ğŸŒ² Referral Tree</h2>
        <input type="text" id="refUID" placeholder="User UID" />
        <button onclick="viewTree()">View Tree</button>
        <pre id="treeData">Tree will appear here</pre>
      </div>

      <!-- SPIN CONTROL -->
      <div class="card">
        <h2>ğŸ¯ Spin Outcome</h2>
        <input type="text" id="spinUID" placeholder="UID" />
        <select id="forcedPrize">
          <option value="">Random</option>
          <option value="10">10</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
        <button onclick="controlSpin()">Force Spin</button>
      </div>

      <!-- SUPPORT -->
      <div class="card">
        <h2>ğŸ› ï¸ Support Tickets</h2>
        <button onclick="loadTickets()">Load Tickets</button>
        <div id="supportList"></div>
      </div>

      <!-- FAKE WINNER -->
      <div class="card">
        <h2>ğŸ•µï¸â€â™‚ï¸ Fake Winners</h2>
        <input type="text" id="fakeName" placeholder="Name" />
        <input type="text" id="fakePrize" placeholder="Prize" />
        <button onclick="addFakeWinner()">Add</button>
      </div>

    </section>
  </main>

  <footer>
    <p>ğŸ§  FortuneSpin Intelligence Center | Admin: <strong>admin</strong></p>
  </footer>

  <script>
    function logout() {
      import("./firebase.js").then(({ auth }) => {
        auth.signOut().then(() => location.href = "index.html");
      });
    }
  </script>
</body>
</html>
